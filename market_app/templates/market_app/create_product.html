<!DOCTYPE html>
<html lang="en" class="h-full bg-gray-950">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>New Listing – Baylor Marketplace</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="h-full text-gray-100 antialiased">

  <!-- Nav -->
  <header class="border-b border-white/10 bg-gray-950/80 backdrop-blur sticky top-0 z-10">
    <div class="max-w-6xl mx-auto px-6 h-14 flex items-center justify-between">
      <a href="{% url 'home' %}" class="font-semibold tracking-tight text-white">Baylor Marketplace</a>
      <nav class="flex items-center gap-6 text-sm text-gray-400">
        <a href="{% url 'browse' %}" class="hover:text-white transition-colors">Browse</a>
        <a href="{% url 'view_products' %}" class="hover:text-white transition-colors">My Listings</a>
        <span class="text-gray-600">|</span>
        <span class="text-gray-300">{{ user.username }}</span>
      </nav>
    </div>
  </header>

  <main class="max-w-lg mx-auto px-6 py-12">
    <h1 class="text-xl font-semibold text-white mb-8">New listing</h1>

    {% if errors %}
    <ul class="mb-6 rounded-md bg-red-500/10 px-4 py-3 text-sm text-red-400 list-disc list-inside space-y-1">
      {% for error in errors %}
      <li>{{ error }}</li>
      {% endfor %}
    </ul>
    {% endif %}

    <form action="{% url 'create_product' %}" method="post" class="space-y-5">
      {% csrf_token %}

      <div>
        <label for="title" class="block text-sm font-medium text-gray-300 mb-1.5">Title</label>
        <input id="title" type="text" name="title" value="{{ title|default:'' }}" required placeholder="e.g. Calculus textbook, Mini fridge…"
          class="block w-full rounded-md bg-gray-900 border border-white/10 px-3 py-2 text-sm text-white placeholder:text-gray-600 focus:outline-none focus:ring-1 focus:ring-green-600 focus:border-green-600 transition-colors" />
      </div>

      <div>
        <label for="description" class="block text-sm font-medium text-gray-300 mb-1.5">Description <span class="text-gray-600 font-normal">(optional)</span></label>
        <textarea id="description" name="description" rows="3" placeholder="Condition, included items, pickup location…"
          class="block w-full rounded-md bg-gray-900 border border-white/10 px-3 py-2 text-sm text-white placeholder:text-gray-600 focus:outline-none focus:ring-1 focus:ring-green-600 focus:border-green-600 transition-colors resize-none">{{ description|default:'' }}</textarea>
      </div>

      <div>
        <label for="price" class="block text-sm font-medium text-gray-300 mb-1.5">Price ($)</label>
        <input id="price" type="number" name="price" value="{{ price|default:'' }}" min="0" step="0.01" required placeholder="0.00"
          class="block w-full rounded-md bg-gray-900 border border-white/10 px-3 py-2 text-sm text-white placeholder:text-gray-600 focus:outline-none focus:ring-1 focus:ring-green-600 focus:border-green-600 transition-colors" />
      </div>

      <div>
        <label for="image_url" class="block text-sm font-medium text-gray-300 mb-1.5">Image URL <span class="text-gray-600 font-normal">(optional)</span></label>
        <input id="image_url" type="url" name="image_url" value="{{ image_url|default:'' }}" placeholder="https://…"
          class="block w-full rounded-md bg-gray-900 border border-white/10 px-3 py-2 text-sm text-white placeholder:text-gray-600 focus:outline-none focus:ring-1 focus:ring-green-600 focus:border-green-600 transition-colors" />
      </div>

      <div class="pt-2">
        <button type="submit"
          class="w-full rounded-md bg-green-700 hover:bg-green-600 px-4 py-2.5 text-sm font-medium text-white transition-colors">
          Post listing
        </button>
      </div>
    </form>
  </main>

</body>
</html>

